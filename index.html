<!-- Facts App with Numbers API from numbersapi.com. Written by Ridwanullah Alabi(AnonumousAlabi)
-->

<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<title>Number Facts</title>
	<style type="text/css">
		#fact{
			display: none;
		}
	</style>
</head>
<body>
	<div class="bg-dark" style="height: 100vh">
		<div class="container">
			<div class="row">
				<div class="col-md-6 mx-auto">
					 <div class="card bg-primary text-white mt-5 p-4">
					 	<h1>Number Facts</h1>
					 	<p>Enter a number and get a random fact</p>
					 	<input type="number" class="form-control-lg" id="numberInput" placeholder="Enter any number....">
					 	<div id="fact" class="card-body">
					 		<h5 id="factText" class="card-text"></h5>
							<small class="card-title">
									Facts App with Numbers API from numbersapi.com API by Ridwanullah Alabi(AnonumousAlabi)
							</small>
						</div>
					 </div>
				</div>
			</div>
		</div>
	</div>


<script type="text/javascript">
	let fact = document.querySelector('#fact');
	let factText = document.querySelector('#factText');

	let numberInput = document.querySelector('#numberInput');
	numberInput.addEventListener('input', getFactFetch);

	// function getFactAjax(){
	// 	let number = numberInput.value;
		
	// 	let xhr = new XMLHttpRequest();
	// 	xhr.open('GET', 'https://numbersapi.com'+number);

	// 	xhr.onload = function () { 
	// 		if(this.status == 200 && number != ''){
	// 			fact.style.display = 'block';
	// 			factText.innerText = this.responseText;
	// 		}
	// 	 }

	// 	 xhr.send();
	// }

	function getFactFetch(){
		let number = numberInput.value;

		fetch('http://numbersapi.com/'+number)
			.then(response => response.text())
			.then(data => {
				if (number != ''){
					fact.style.display = 'block';
					factText.innerText = data;
				}
			})
			.catch(err => console.log(err));
	}

</script>

</body>
</html>